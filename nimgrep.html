<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>nimgrep User's manual</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">nimgrep User's manual</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple-boot">
      <li>
        <a href="manual.html">Manual</a>
      </li>
      <li>
        <a href="lib.html">Standard library</a>
      </li>
      <li>
        <a href="theindex.html">Index</a>
      </li>
      <li>
        <a href="compiler/theindex.html">Compiler docs</a>
      </li>
      <li>
        <a href="https://nim-lang.github.io/fusion/theindex.html">Fusion docs</a>
      </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
    <div class="search-groupby">
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>

  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="installation_toc" href="#installation">Installation</a></li>
<li><a class="reference" id="command-line-switches_toc" href="#command-line-switches">Command line switches</a></li>
<li><a class="reference" id="examples_toc" href="#examples">Examples</a></li>

</ul>

  </div>
  &nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/doc/nimgrep.rst#L1"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/doc/nimgrep.rst#L1" class="link-seesrc" target="_blank" >Edit</a>

  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">Author:</th><td> Andreas Rumpf</td></tr>
<tr><th class="docinfo-name">Version:</th><td> 1.6.0</td></tr>
</tbody></table><p>Nimgrep is a command line tool for search and replace tasks. It can search for regex or peg patterns and can search whole directories at once. User confirmation for every single replace operation can be requested.</p>
<p>Nimgrep has particularly good support for Nim's eccentric <em>style insensitivity</em> (see option <tt class="docutils literal"><span class="pre">-y</span></tt> below). Apart from that it is a generic text manipulation tool.</p>

<h1><a class="toc-backref" id="installation" href="#installation">Installation</a></h1><p>Compile nimgrep with the command:<pre>
nim c -d:release tools/nimgrep.nim</pre>
</p>
<p>And copy the executable somewhere in your <tt class="docutils literal"><span class="pre">$PATH</span></tt>.</p>

<h1><a class="toc-backref" id="command-line-switches" href="#command-line-switches">Command line switches</a></h1>Usage:<ul class="simple"><li>To search:<pre>nimgrep [options] PATTERN [(FILE/DIRECTORY)*/-]</pre>
</li>
<li>To replace:<pre>nimgrep [options] PATTERN --replace REPLACEMENT (FILE/DIRECTORY)*/-</pre>
</li>
<li>To list file names:<pre>nimgrep [options] --filenames [PATTERN] [(FILE/DIRECTORY)*]</pre>
</li>
</ul>
<p>Positional arguments, from left to right:</p>
<ol class="simple"><li>PATTERN is either Regex (default) or Peg if <tt class="docutils literal"><span class="pre">--peg</span></tt> is specified. PATTERN and REPLACEMENT should be skipped when <tt class="docutils literal"><span class="pre">--stdin</span></tt> is specified.</li>
<li>REPLACEMENT supports <tt class="docutils literal"><span class="pre">$1</span></tt>, <tt class="docutils literal"><span class="pre">$#</span></tt> notations for captured groups in PATTERN.<div class="admonition admonition-error"><span class="admonition-error-text"><b>Danger:</b></span>
<tt class="docutils literal"><span class="pre">--replace</span></tt> mode <strong>DOES NOT</strong> ask confirmation unless <tt class="docutils literal"><span class="pre">--confirm</span></tt> is specified!</div>
</li>
<li>Final arguments are a list of paths (FILE/DIRECTORY) or a standalone minus <tt class="docutils literal"><span class="pre">-</span></tt> or not specified (empty):<ul class="simple"><li>empty, current directory <tt class="docutils literal"><span class="pre">.</span></tt> is assumed (not with <tt class="docutils literal"><span class="pre">--replace</span></tt>)<div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
so when no FILE/DIRECTORY/<tt class="docutils literal"><span class="pre">-</span></tt> is specified nimgrep does <strong>not</strong> read the pipe, but searches files in the current dir instead!</div>
</li>
<li><tt class="docutils literal"><span class="pre">-</span></tt>, read buffer once from stdin: pipe or terminal input; in <tt class="docutils literal"><span class="pre">--replace</span></tt> mode the result is directed to stdout; it's not compatible with <tt class="docutils literal"><span class="pre">--stdin</span></tt>, <tt class="docutils literal"><span class="pre">--filenames</span></tt>, or <tt class="docutils literal"><span class="pre">--confirm</span></tt></li>
</ul>
<p>For any given DIRECTORY nimgrep searches only its immediate files without traversing sub-directories unless <tt class="docutils literal"><span class="pre">--recursive</span></tt> is specified.</p>
</li>
</ol>
<p>In replacement mode we require all 3 positional arguments to avoid damaging.</p>
<p>Options:</p>
<ul class="simple"><li>Mode of operation:<table frame="void"><tr><th align="left">--find, -f</th><td align="left">find the PATTERN (default)</td>
</tr>
<tr><th align="left">--replace, -!</th><td align="left">replace the PATTERN to REPLACEMENT, rewriting the files</td>
</tr>
<tr><th align="left">--confirm</th><td align="left">confirm each occurrence/replacement; there is a chance to abort any time without touching the file</td>
</tr>
<tr><th align="left">--filenames</th><td align="left">just list filenames. Provide a PATTERN to find it in the filenames (not in the contents of a file) or run with empty pattern to just list all files:<pre>nimgrep --filenames               # In current dir
nimgrep --filenames &quot;&quot; DIRECTORY
  # Note empty pattern &quot;&quot;, lists all files in DIRECTORY</pre>
</td>
</tr>
</table></li>
<li>Interprete patterns:<table frame="void"><tr><th align="left">--peg</th><td align="left">PATTERN and PAT are Peg</td>
</tr>
<tr><th align="left">--re</th><td align="left">PATTERN and PAT are regular expressions (default)</td>
</tr>
<tr><th align="left">--rex, -x</th><td align="left">use the &quot;extended&quot; syntax for the regular expression so that whitespace is not significant</td>
</tr>
<tr><th align="left">--word, -w</th><td align="left">matches should have word boundaries (buggy for pegs!)</td>
</tr>
<tr><th align="left">--ignoreCase, -i</th><td align="left">be case insensitive in PATTERN and PAT</td>
</tr>
<tr><th align="left">--ignoreStyle, -y</th><td align="left">be style insensitive in PATTERN and PAT</td>
</tr>
</table><div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
PATERN and patterns PAT (see below in other options) are all either Regex or Peg simultaneously and options <tt class="docutils literal"><span class="pre">--rex</span></tt>, <tt class="docutils literal"><span class="pre">--word</span></tt>, <tt class="docutils literal"><span class="pre">--ignoreCase</span></tt>, and <tt class="docutils literal"><span class="pre">--ignoreStyle</span></tt> are applied to all of them.</div>
</li>
<li>File system walk:<table frame="void"><tr><th align="left">--recursive, -r</th><td align="left">process directories recursively</td>
</tr>
<tr><th align="left">--follow</th><td align="left">follow all symlinks when processing recursively</td>
</tr>
<tr><th align="left">--ext:EX1|EX2|...</th><td align="left">only search the files with the given extension(s), empty one (&quot;--ext&quot;) means files with missing extension</td>
</tr>
<tr><th align="left">--noExt:EX1|...</th><td align="left">exclude files having given extension(s), use empty one to skip files with no extension (like some binary files are)</td>
</tr>
<tr><th align="left">--includeFile:PAT</th><td align="left">search only files whose names contain pattern PAT</td>
</tr>
<tr><th align="left">--excludeFile:PAT</th><td align="left">skip files whose names contain pattern PAT</td>
</tr>
<tr><th align="left">--includeDir:PAT</th><td align="left">search only files with their whole directory path containing PAT</td>
</tr>
<tr><th align="left">--excludeDir:PAT</th><td align="left">skip directories whose name (not path) contain pattern PAT</td>
</tr>
<tr><th align="left">--if,--ef,--id,--ed</th><td align="left">abbreviations of the 4 options above</td>
</tr>
<tr><th align="left">--sortTime, -s[:asc|desc]</th><td align="left">order files by the last modification time (default: off): ascending (recent files go last) or descending</td>
</tr>
</table></li>
<li>Filter file content:<table frame="void"><tr><th align="left">--match:PAT</th><td align="left">select files containing a (not displayed) match of PAT</td>
</tr>
<tr><th align="left">--noMatch:PAT</th><td align="left">select files not containing any match of PAT</td>
</tr>
<tr><th align="left">--bin:on|off|only</th><td align="left">process binary files? (detected by 0 in first 1K bytes) (default: on - binary and text files treated the same way)</td>
</tr>
<tr><th align="left">--text, -t</th><td align="left">process only text files, the same as <tt class="docutils literal"><span class="pre">--bin:off</span></tt></td>
</tr>
</table></li>
<li>Represent results:<table frame="void"><tr><th align="left">--nocolor</th><td align="left">output will be given without any colors</td>
</tr>
<tr><th align="left">--color[:on]</th><td align="left">force color even if output is redirected (default: auto)</td>
</tr>
<tr><th align="left">--colorTheme:THEME</th><td align="left">select color THEME from <tt class="docutils literal"><span class="pre">simple</span></tt> (default), <tt class="docutils literal"><span class="pre">bnw</span></tt> (black and white), <tt class="docutils literal"><span class="pre">ack</span></tt>, or <tt class="docutils literal"><span class="pre">gnu</span></tt> (GNU grep)</td>
</tr>
<tr><th align="left">--count</th><td align="left">only print counts of matches for files that matched</td>
</tr>
<tr><th align="left">--context:N, -c:N</th><td align="left">print N lines of leading context before every match and N lines of trailing context after it (default N: 0)</td>
</tr>
<tr><th align="left">--afterContext:N, -a:N</th><td align="left">print N lines of trailing context after every match</td>
</tr>
<tr><th align="left">--beforeContext:N, -b:N</th><td align="left">print N lines of leading context before every match</td>
</tr>
<tr><th align="left">--group, -g</th><td align="left">group matches by file</td>
</tr>
<tr><th align="left">--newLine, -l</th><td align="left">display every matching line starting from a new line</td>
</tr>
<tr><th align="left">--cols[:N]</th><td align="left">limit max displayed columns/width of output lines from files by N characters, cropping overflows (default: off)</td>
</tr>
<tr><th align="left">--cols:auto, -%</th><td align="left">calculate columns from terminal width for every line</td>
</tr>
<tr><th align="left">--onlyAscii, -@</th><td align="left">display only printable ASCII Latin characters 0x20-0x7E<dl class="docutils"><dt>substitutions: 0 -&gt; ^@, 1 -&gt; ^A, ... 0x1F -&gt; ^_,</dt>
<dd>0x7F -&gt; '7F, ..., 0xFF -&gt; 'FF</dd>
</dl>
</td>
</tr>
</table></li>
<li>Miscellaneous:<table frame="void"><tr><th align="left">--threads:N, -j:N</th><td align="left">speed up search by N additional workers (default: 0, off)</td>
</tr>
<tr><th align="left">--stdin</th><td align="left">read PATTERN from stdin (to avoid the shell's confusing quoting rules) and, if <tt class="docutils literal"><span class="pre">--replace</span></tt> given, REPLACEMENT</td>
</tr>
<tr><th align="left">--verbose</th><td align="left">be verbose: list every processed file</td>
</tr>
<tr><th align="left">--help, -h</th><td align="left">shows this help</td>
</tr>
<tr><th align="left">--version, -v</th><td align="left">shows the version</td>
</tr>
</table></li>
</ul>

<h1><a class="toc-backref" id="examples" href="#examples">Examples</a></h1><p>All examples below use default PCRE Regex patterns:</p>
<ul class="simple"><li>To search recursively in Nim files using style-insensitive identifiers:<pre>
--recursive --ext:'nim|nims' --ignoreStyle
# short: -r --ext:'nim|nims' -y</pre>
<div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
we used <tt class="docutils literal"><span class="pre">'</span></tt> quotes to avoid special treatment of <tt class="docutils literal"><span class="pre">|</span></tt> symbol for shells like Bash</div>
</li>
<li>To exclude version control directories (Git, Mercurial=hg, Subversion=svn) from the search:<pre>
--excludeDir:'^\.git$' --excludeDir:'^\.hg$' --excludeDir:'^\.svn$'
# short: --ed:'^\.git$' --ed:'^\.hg$' --ed:'^\.svn$'</pre>
</li>
<li>To search only in paths containing the <tt class="docutils literal"><span class="pre">tests</span></tt> sub-directory recursively:<pre>
--recursive --includeDir:'(^|/)tests($|/)'
# short: -r --id:'(^|/)tests($|/)'</pre>
<div class="admonition admonition-warning"><span class="admonition-warning-text"><b>Attention:</b></span>
note the subtle difference between <tt class="docutils literal"><span class="pre">--excludeDir</span></tt> and <tt class="docutils literal"><span class="pre">--includeDir</span></tt>: the former is applied to relative directory entries and the latter is applied to the whole paths</div>
</li>
<li>Nimgrep can search multi-line, e.g. to find files containing <tt class="docutils literal"><span class="pre">import</span></tt> and then <tt class="docutils literal"><span class="pre">strutils</span></tt> use:<pre>
'import(.|\n)*?strutils'</pre>
</li>
</ul>
</p>
  
  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2021-04-07 12:25:10 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
